(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.cedaroNavMenu=f()}})(function(){var define,module,exports;return(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){(function(global){"use strict";var jQuery=(typeof window!=="undefined"?window['jQuery']:typeof global!=="undefined"?global['jQuery']:null),wpNavMenu=require('./src/entry');if(jQuery){jQuery.fn.cedaroNavMenu=function(options){return this.each(function(){var menu=wpNavMenu(this,options);menu.initialize();});};}
module.exports=wpNavMenu;}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./src/entry":2}],2:[function(require,module,exports){(function(global){"use strict";var l10n,$=require('./query'),customizerPartials={},NavMenu=require('./nav-menu.js'),wp=(typeof window!=="undefined"?window['wp']:typeof global!=="undefined"?global['wp']:null);l10n=$.extend({collapseSubmenu:'Collapse submenu',expandSubmenu:'Expand submenu'},global._cedaroNavMenuL10n);function initializeCustomizePlacement(placement){var addedMenu,removedMenu;if(!(placement.partial.id in customizerPartials)){return;}
removedMenu=customizerPartials[placement.partial.id];removedMenu.destroy();addedMenu=new NavMenu(placement.container[0],removedMenu.options);addedMenu.initialize();placement.removedNodes.find('.'+removedMenu.options.expandedMenuItemClass).each(function(){placement.container.find('#'+this.id).find('> .{class}, > a .{class}'.replace(/{class}/g,removedMenu.options.submenuToggleClass)).trigger('click');});}
if(wp&&'customize'in wp){wp.customize.bind('preview-ready',function(){wp.customize.selectiveRefresh.bind('partial-content-rendered',initializeCustomizePlacement);});}
module.exports=function(el,options){var menu,partialId;if(!('addEventListener'in global)){return;}
options=options||{};options.l10n=options.l10n||{};$.extend(options.l10n,l10n);menu=new NavMenu(el,options);partialId=menu.el.getAttribute('data-customize-partial-id');if(partialId){customizerPartials[partialId]=menu;}
return menu;};}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./nav-menu.js":3,"./query":4}],3:[function(require,module,exports){"use strict";var $=require('./query'),document=window.document;function NavMenu(el,options){var menu=this;this.el=$(el)[0];this.options=$.extend({},NavMenu.defaults,options);this.el.setAttribute('data-nav-menu-options',JSON.stringify(this.options));Object.keys(Object.getPrototypeOf(this)).filter(function(key){return 'function'===typeof menu[key]&&0===key.indexOf('on');}).forEach(function(key){menu[key]=menu[key].bind(menu);});}
NavMenu.defaults={breakpoint:768,expandCurrentItem:false,hoverTimeout:50,l10n:{},submenuToggleInsert:'',submenuToggleMode:'hover',activeMenuItemClass:'is-active',expandedMenuItemClass:'is-sub-menu-open',expandedSubmenuClass:'is-open',expandedSubmenuToggleClass:'is-open',submenuToggleClass:'sub-menu-toggle'};NavMenu.prototype={_initialized:false,_hasExpandedSubmenu:false,_hoverTimeouts:[],_touchStarted:false,_viewportWidth:null,initialize:function(){var menu=this;if(this._initialized){return;}
this._initialized=true;this.$items=$('li',this.el).each(function(el){el.id=$.getUid(el,'menu-item');});this.$submenus=$('li ul',this.el).each(function(el){el.setAttribute('aria-expanded','false');});if(false!==this.options.submenuToggleInsert){this.insertSubmenuToggleButtons();}
document.addEventListener('click',this.onDocumentClick,true);this.el.addEventListener('click',this.onSubmenuToggleClick,false);if('hover'===this.options.submenuToggleMode){this.el.addEventListener('touchstart',this.onMenuLinkTouchStart,false);this.el.addEventListener('mouseover',this.onMenuItemMouseEnter,false);this.el.addEventListener('mouseout',this.onMenuItemMouseLeave,false);}
this.el.addEventListener('focus',this.onMenuLinkFocus,true);this.el.addEventListener('blur',this.onMenuLinkBlur,true);if(menu.options.expandCurrentItem&&('click'===menu.options.submenuToggleMode||menu.isMobile())){this.$items.filter(function(el){return el.classList.contains('current-menu-item')||el.classList.contains('current-menu-ancestor');}).each(function(el){menu.expandSubmenu(el);});}
return this;},destroy:function(){document.removeEventListener('click',this.onDocumentClick,true);this.el.removeEventListener('click',this.onSubmenuToggleClick,false);this.el.removeEventListener('mouseover',this.onMenuItemMouseEnter,false);this.el.removeEventListener('mouseout',this.onMenuItemMouseLeave,false);this.el.removeEventListener('focus',this.onMenuLinkFocus,true);this.el.removeEventListener('blur',this.onMenuLinkBlur,true);},isMobile:function(){if('disable'===this.options.breakpoint){return true;}
return this.getViewportWidth()<this.options.breakpoint;},collapseSubmenu:function(menuItem){var button=this.getSubmenuToggle(menuItem),$submenu=$('.sub-menu',menuItem);menuItem.classList.remove(this.options.expandedMenuItemClass);if(button){button.classList.remove(this.options.expandedSubmenuToggleClass);button.setAttribute('aria-expanded','false');$('.screen-reader-text',button)[0].innerHTML=this.options.l10n.expandSubmenu||'Expand submenu';}
if($submenu.length){$submenu[0].classList.remove(this.options.expandedSubmenuClass);$submenu[0].setAttribute('aria-expanded','false');}},collapseAllSubmenus:function(){var menu=this;this.$items.each(function(el){el.classList.remove(menu.options.activeMenuItemClass);menu.collapseSubmenu(el);});},collapseUnrelatedSubmenus:function(focusedEl){var menu=this;this.$items.each(function(el){if(!el.contains(focusedEl)){el.classList.remove(menu.options.activeMenuItemClass);menu.collapseSubmenu(el);}});},expandSubmenu:function(menuItem){var button=this.getSubmenuToggle(menuItem),$submenu=$('.sub-menu',menuItem);menuItem.classList.add(this.options.activeMenuItemClass);if(!this.hasSubmenu(menuItem)){return;}
menuItem.classList.add(this.options.expandedMenuItemClass);if(button){button.classList.add(this.options.expandedSubmenuToggleClass);button.setAttribute('aria-expanded','true');$('.screen-reader-text',button)[0].innerHTML=this.options.l10n.collapseSubmenu||'Collapse submenu';}
if($submenu.length){$submenu[0].classList.add(this.options.expandedSubmenuClass);$submenu[0].setAttribute('aria-expanded','true');}},getViewportWidth:function(){return this._viewportWidth||Math.max(document.documentElement.clientWidth,window.innerWidth||0);},setViewportWidth:function(width){this._viewportWidth=parseInt(width,10);return this;},getSubmenuToggle:function(menuItem){return $('.'+this.options.submenuToggleClass,menuItem)[0];},hasSubmenu:function(menuItem){return $('.sub-menu',menuItem).length>0;},insertSubmenuToggleButtons:function(){var button,span,menu=this;button=document.createElement('button');button.setAttribute('class',menu.options.submenuToggleClass);button.setAttribute('aria-expanded','false');span=document.createElement('span');span.setAttribute('class','screen-reader-text');span.innerHTML=this.options.l10n.expandSubmenu||'Expand submenu';button.appendChild(span);this.$submenus.each(function(submenu){var buttonInstance=button.cloneNode(true);if(!submenu.id){submenu.id=$.getUid(submenu,'sub-menu');}
buttonInstance.setAttribute('aria-controls',submenu.id);if('append'!==menu.options.submenuToggleInsert){submenu.parentElement.insertBefore(buttonInstance,submenu);return;}
$(submenu.parentElement.children).each(function(el){if('A'===el.nodeName){el.appendChild(buttonInstance);return false;}});});},isSubmenuExpanded:function(menuItem){return menuItem.classList.contains(this.options.expandedMenuItemClass);},toggleSubmenu:function(menuItem){if(this.isSubmenuExpanded(menuItem)){this.collapseSubmenu(menuItem);}else{this.expandSubmenu(menuItem);}},onDocumentClick:function(e){if('click'===this.options.submenuToggleMode||this.isMobile()){return;}
if(this.el===e.target||!this.el.contains(e.target)){this.collapseAllSubmenus();}},onSubmenuToggleClick:function(e){var menuItem,button=$(e.target).closest('.'+this.options.submenuToggleClass,this.el);if(!button){return;}
e.preventDefault();menuItem=$(e.target).closest('li',this.el);this.toggleSubmenu(menuItem);},onMenuLinkTouchStart:function(e){var button,target;if(!$.isElementOrDescendant(e.target,'A',this.el)){return;}
target=$(e.target).closest('li',this.el);if(!target){return;}
if(!this.hasSubmenu(target)||this.isSubmenuExpanded(target)){return;}
button=this.getSubmenuToggle(target);if(!$.isClickable(button)){e.stopImmediatePropagation();e.preventDefault();this.expandSubmenu(target);this.collapseUnrelatedSubmenus(e.target);}else{this._touchStarted=true;}},onMenuItemMouseEnter:function(e){var related,target,isTouchEvent=this._touchStarted,menu=this;this._isTouchStarted=false;target=$(e.target).closest('li',this.el);related=$(e.relatedTarget).closest('li',this.el);if(!target||related===target){return;}
$(e.target).up('li',this.el).each(function(el){clearTimeout(menu._hoverTimeouts[el.id]);el.classList.add(menu.options.activeMenuItemClass);});if(!this.hasSubmenu(target)||this.isSubmenuExpanded(target)){return;}
if(!isTouchEvent||!$.isElementOrDescendant(e.target,'A',this.el)){if(!this.isMobile()){this.expandSubmenu(target);}}},onMenuItemMouseLeave:function(e){var menu=this,isMobile=menu.isMobile();$(e.target).up('li',this.el).filter(function(el){return el!==e.relatedTarget&&!el.contains(e.relatedTarget);}).each(function(el){el.classList.remove(menu.options.activeMenuItemClass);if(isMobile){return;}
menu._hoverTimeouts[el.id]=setTimeout(function(){menu.collapseSubmenu(el);},menu.options.hoverTimeout);});},onMenuLinkFocus:function(e){var button,$parents,menu=this;if('click'!==menu.options.submenuToggleMode&&!menu.isMobile()){menu.collapseUnrelatedSubmenus(e.target);}
$parents=$(e.target).parents('li',menu.el).each(function(el){el.classList.add(menu.options.activeMenuItemClass);});if(!menu.hasSubmenu($parents[0])){return;}
button=this.getSubmenuToggle($parents[0]);if(!button||!$.isVisible(button)){$parents.each(function(el){menu.expandSubmenu(el);});}},onMenuLinkBlur:function(e){var menu=this;$(e.target).parents('li',menu.el).each(function(el){el.classList.remove(menu.options.activeMenuItemClass);});if(!e.relatedTarget){return;}
if('click'===menu.options.submenuToggleMode||menu.isMobile()){return;}
menu.collapseUnrelatedSubmenus(e.relatedTarget);}};module.exports=NavMenu;},{"./query":4}],4:[function(require,module,exports){"use strict";var _=require('./utils');function Query(selector,context){var i,length;if(selector instanceof Query){return selector;}
if(!selector){return this;}
context=context||document;if(context.length){context=context[0];}
if('string'===typeof selector){selector=context.querySelectorAll(selector);}
if(selector&&selector.nodeType){this.length=1;this[0]=selector;}else{selector=Array.prototype.slice.call(selector);length=this.length=selector.length;for(i=0;i<length;i++){this[i]=selector[i];}}}
_.extend(Query.prototype,{length:0,closest:function(selector,context){var el=this[0];context=context||document.body;while(el&&el!==context){if(_.matches(el,selector)){return el;}
el=el.parentElement;}
return null;},each:function(callback){_.each(this,callback);return this;},filter:function(callback){return query(Array.prototype.filter.call(this,callback));},find:function(selector){return query(this[0].querySelectorAll(selector));},parents:function(selector,context){var el=this[0],parents=[];context=context||document.body;while(el&&el.parentElement&&el.parentElement!==context){if(_.matches(el.parentElement,selector)){parents.push(el.parentElement);}
el=el.parentElement;}
return query(parents);},up:function(selector,context){var items=Array.prototype.slice.call(this.parents(selector,context));if(_.matches(this[0],selector)){items.unshift(this[0]);}
return query(items);}});function query(selector,context){return new Query(selector,context);}
module.exports=_.extend(query,_,{isClickable:function(el){var styles;if(!el){return false;}
styles=window.getComputedStyle(el);return 'none'!==styles.display&&'none'!==styles.pointerEvents;},isElementOrDescendant:function(el,tagName,container){return tagName===el.nodeName||null!==query(el).closest(tagName,container);},isVisible:function(el){return el&&'none'!==window.getComputedStyle(el).display;}});},{"./utils":5}],5:[function(require,module,exports){"use strict";function each(items,callback){var i,length=items.length;for(i=0;i<length;i++){if(false===callback.call(items[i],items[i],i)){break;}}}
function extend(target){var i=0,length=arguments.length;target=target||{};while(++i<length){if(!arguments[i]){continue;}
for(var key in arguments[i]){if(arguments[i].hasOwnProperty(key)){target[key]=arguments[i][key];}}}
return target;}
function generateUniqueId(prefix){prefix=prefix||'';if(''!==prefix){prefix+='-';}
return prefix+Math.random().toString(36).slice(2,15);}
function getUniqueId(el,prefix){if(el.id){return el.id;}
return generateUniqueId(prefix);}
function matches(el,selector){var fn=el&&(el.matches||el.webkitMatchesSelector||el.mozMatchesSelector||el.msMatchesSelector||el.oMatchesSelector);return!!fn&&fn.call(el,selector);}
module.exports={each:each,extend:extend,getUid:getUniqueId,matches:matches};},{}]},{},[1])(1)});